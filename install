#!/bin/zsh

export USERNAME=`whoami`
sudo chsh -s /usr/bin/zsh $USERNAME

if [ "${CODESPACES}" == "true" ]; then
  echo `whomai`
  echo $HOME
fi

# DEBIAN specific
if [ -f "/etc/debian_version" ]; then
  sudo apt update
  sudo apt install -y \
    stow \
    tmux \
    fzf \
    ripgrep \
    neovim
fi

## Install starship
curl -sS https://starship.rs/install.sh | sh

## Install prezto
git clone --recursive https://github.com/sorin-ionescu/prezto.git "${ZDOTDIR:-$HOME}/.zprezto"

rm -f ~/.zshrc # remove any default .zshrc so that stow won't fail

stow bin
stow git
stow terminal
stow tmux
stow vim
stow zsh
